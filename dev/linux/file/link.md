# 文件链接

## 硬链接

硬盘分成一个个数据块，文件的数据都保存在这些数据块里面。这种数据块就叫做 inode，每个数据库块都有编号，称为 inode 号码。

文件系统有一个文件表，将文件名与它所在的 inode 号码联系起来。每当读取文件的时候，文件系统就从文件名找到对应的 inode 读取数据。

Linux 系统允许多个文件名，指向同一个 inode。举例来说，文件 A 指向一个 inode 号码，然后新建文件 B 指向同样的 inode。这时文件 B 就称为文件 A 的硬链接（hard link）。

硬链接有以下特点。

（1）由于文件 A 和文件 B 指向同一个数据块，所以只要修改其中一个文件，会导致另一个文件也发生变化。

（2）文件 A 和文件 B 必须位于同一块硬盘的同一分区，否则不可能写在同一个文件表里。

（3）不允许在目录上创建硬链接，只能在普通文件上创建它们。

## 软链接

软链接（soft link）指的是一个文件名指向另一个文件名，又称为符号链接（symbolic link）。

软链接可以跨分区，也可以在目录上创建。它的缺点是，如果原始文件删除或移动了，它的符号链接就会无法生效了。

## ln 命令

`ln`命令用来生成链接文件。

```bash
$ ln [OPTION] source_file link_file
```

它的参数函数如下。

- source_file：需要创建链接的原始文件。
- link_file：将要生成的链接文件。

默认情况下，创建的是硬链接。如果要创建软链接，需要使用`-s`参数。

```bash
$ ln -s filex filex_sym_link
```



